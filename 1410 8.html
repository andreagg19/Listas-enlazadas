<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Listas enlazadas</title>
</head>
<body>
    <script>
        class Nodo{
            constructor(numero){
            this.numero=numero;
            this.next=null;
            }
        }

        class Lista{
            constructor(){
            this.primero=null;
            }

            agregar(nuevo){
            if (this.primero==null)
                this.primero=nuevo;
                    else{
                        let temp=this.primero;
                            while (temp.next!=null)
                                temp=temp.next;
                                temp.next=nuevo;
                    }
            }

            listar(){
            let res="";
            let temp=this.primero;
                while(temp!=null){
                    res+=temp.numero + "  ";
                    temp=temp.next;
                }
                return res;
            }

            extraerPrimero(primero){
                let current = this.primero;
                let prev = null;
                while (current) {
                    if (current.numero === numero) {
                        //elimina primero
                        if (current === this.primero) this.primero = this.primero.next;
                        //elimina ultimo
                        else if (!current.next) prev.next = null;
                        return true;
                    }
                    prev = current;
                    current = current.next;
                }
                return false;
            }

            extraerUltimo(){
                //muestra ultimo
                let ultimoNodo = this.primero;
                if (ultimoNodo) {
                    while (ultimoNodo.next) {
                        ultimoNodo = ultimoNodo.next
                    }
                }
                return ultimoNodo;
            }
        }

        let datos=new Lista();
        let num=new Nodo(2);
        datos.agregar(num);
        num=new Nodo(3);
        datos.agregar(num);
        num=new Nodo(4);
        datos.agregar(num);
        num=new Nodo(5);
        datos.agregar(num);
        num=new Nodo(8);
        datos.agregar(num);
        let first=datos.extraerPrimero(); //eliminar el primero
        console.log(first.numero);
        let last=datos.extraerUltimo(); //eliminar y devolver el ultimo
        console.log(last.numero);
        console.log(datos.listar());
    </script>
</body>
</html>
